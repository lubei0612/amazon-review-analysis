// ========================
// AI Prompt æ¨¡æ¿ - å…­å¤§ç»´åº¦åˆ†æ
// ========================

class PromptTemplates {
  /**
   * ç³»ç»Ÿæç¤ºè¯ï¼ˆé€‚ç”¨äºæ‰€æœ‰åˆ†æï¼‰
   */
  static getSystemPrompt() {
    return `ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„Amazonäº§å“è¯„è®ºåˆ†æä¸“å®¶ï¼Œæ“…é•¿ä»å¤§é‡ç”¨æˆ·è¯„è®ºä¸­æå–å…³é”®ä¿¡æ¯å’Œå•†ä¸šæ´å¯Ÿã€‚

ä½ çš„åˆ†æé£æ ¼ï¼š
- æ•°æ®é©±åŠ¨ï¼šåŸºäºè¯„è®ºå†…å®¹çš„å®¢è§‚åˆ†æï¼Œä¸æ·»åŠ ä¸»è§‚æ¨æµ‹
- ç»“æ„åŒ–ï¼šä½¿ç”¨æ¸…æ™°çš„åˆ†ç±»å’Œå±‚æ¬¡ç»“æ„ç»„ç»‡ä¿¡æ¯
- é‡åŒ–ï¼šå°½å¯èƒ½ç”¨æ•°å­—å’Œç™¾åˆ†æ¯”è¡¨è¾¾è§‚ç‚¹çš„æ™®éæ€§
- å¯æ“ä½œï¼šæä¾›å…·ä½“çš„å•†ä¸šå»ºè®®å’Œæ”¹è¿›æ–¹å‘

è¾“å‡ºè¦æ±‚ï¼š
- å¿…é¡»è¿”å›æœ‰æ•ˆçš„JSONæ ¼å¼
- æ‰€æœ‰å­—æ®µéƒ½å¿…é¡»å¡«å†™ï¼ˆä¸èƒ½ä¸ºç©ºæˆ–nullï¼‰
- ç™¾åˆ†æ¯”æ•°å­—ä¸è¦åŠ %ç¬¦å·ï¼Œç›´æ¥è¿”å›æ•°å­—
- æ•°æ®å¿…é¡»åŸºäºå®é™…è¯„è®ºå†…å®¹
- ä½¿ç”¨ä¸­æ–‡è¾“å‡º`
  }

  /**
   * 1. æ¶ˆè´¹è€…ç”»åƒåˆ†æï¼ˆæ·±åº¦ç‰ˆæœ¬ï¼‰
   */
  static getConsumerProfilePrompt(reviews) {
    const reviewText = reviews.slice(0, 200).map((r, i) => 
      `[${i+1}] è¯„åˆ†:${r.rating}æ˜Ÿ | ä½œè€…:${r.userName || r.author?.name || 'åŒ¿å'} | ${r.title} | ${r.body || r.content || ''}`
    ).join('\n')

    return `ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„æ¶ˆè´¹è€…è¡Œä¸ºåˆ†æå¸ˆã€‚è¯·åŸºäºä»¥ä¸‹Amazonäº§å“è¯„è®ºï¼Œè¿›è¡Œæ·±åº¦çš„æ¶ˆè´¹è€…ç”»åƒåˆ†æã€‚

è¯„è®ºæ•°æ®ï¼ˆå…±${reviews.length}æ¡ï¼Œåˆ†æå‰200æ¡ï¼‰ï¼š
${reviewText}

è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹JSONæ ¼å¼è¿”å›åˆ†æç»“æœï¼š

{
  "persona": [
    {
      "keyword": "Son",
      "keywordCn": "å„¿å­",
      "positiveCount": 145,
      "negativeCount": 22
    },
    {
      "keyword": "Daughter",
      "keywordCn": "å¥³å„¿",
      "positiveCount": 98,
      "negativeCount": 15
    },
    {
      "keyword": "Wife",
      "keywordCn": "å¦»å­",
      "positiveCount": 78,
      "negativeCount": 12
    },
    {
      "keyword": "Husband",
      "keywordCn": "ä¸ˆå¤«",
      "positiveCount": 65,
      "negativeCount": 8
    },
    {
      "keyword": "Parents",
      "keywordCn": "çˆ¶æ¯",
      "positiveCount": 45,
      "negativeCount": 7
    }
  ],
  "usageTime": [
    {
      "keyword": "Daily Use",
      "keywordCn": "æ—¥å¸¸ä½¿ç”¨",
      "positiveCount": 120,
      "negativeCount": 18
    },
    {
      "keyword": "Weekend",
      "keywordCn": "å‘¨æœ«",
      "positiveCount": 85,
      "negativeCount": 12
    },
    {
      "keyword": "Evening",
      "keywordCn": "æ™šä¸Š",
      "positiveCount": 60,
      "negativeCount": 9
    },
    {
      "keyword": "Morning",
      "keywordCn": "æ—©æ™¨",
      "positiveCount": 45,
      "negativeCount": 6
    },
    {
      "keyword": "Night",
      "keywordCn": "å¤œæ™š",
      "positiveCount": 38,
      "negativeCount": 5
    }
  ],
  "usageLocation": [
    {
      "keyword": "Home",
      "keywordCn": "å®¶ä¸­",
      "positiveCount": 180,
      "negativeCount": 25
    },
    {
      "keyword": "Office",
      "keywordCn": "åŠå…¬å®¤",
      "positiveCount": 95,
      "negativeCount": 18
    },
    {
      "keyword": "Gym",
      "keywordCn": "å¥èº«æˆ¿",
      "positiveCount": 72,
      "negativeCount": 15
    },
    {
      "keyword": "Outdoor",
      "keywordCn": "æˆ·å¤–",
      "positiveCount": 58,
      "negativeCount": 10
    },
    {
      "keyword": "Travel",
      "keywordCn": "æ—…è¡Œ",
      "positiveCount": 42,
      "negativeCount": 8
    }
  ],
  "behavior": [
    {
      "keyword": "Listening to Music",
      "keywordCn": "å¬éŸ³ä¹",
      "positiveCount": 195,
      "negativeCount": 28
    },
    {
      "keyword": "Working",
      "keywordCn": "å·¥ä½œ",
      "positiveCount": 125,
      "negativeCount": 20
    },
    {
      "keyword": "Exercising",
      "keywordCn": "é”»ç‚¼",
      "positiveCount": 88,
      "negativeCount": 16
    },
    {
      "keyword": "Gaming",
      "keywordCn": "ç©æ¸¸æˆ",
      "positiveCount": 65,
      "negativeCount": 12
    },
    {
      "keyword": "Watching Videos",
      "keywordCn": "çœ‹è§†é¢‘",
      "positiveCount": 52,
      "negativeCount": 9
    }
  ]
}

**æ·±åº¦åˆ†æè¦æ±‚ï¼ˆå¿…é¡»ä¸¥æ ¼éµå®ˆï¼‰ï¼š**

1. **äººç¾¤ç‰¹å¾ï¼ˆpersonaï¼‰** - âš ï¸ å¿…é¡»è¿”å›5ä¸ªä»¥ä¸Šï¼š
   - keyword: è‹±æ–‡å…³é”®è¯ï¼ˆå¦‚ "Son", "Daughter", "Wife", "Husband", "Parents"ï¼‰
   - keywordCn: ä¸­æ–‡ç¿»è¯‘ï¼ˆå¦‚ "å„¿å­", "å¥³å„¿", "å¦»å­", "ä¸ˆå¤«", "çˆ¶æ¯"ï¼‰
   - positiveCount: 4-5æ˜Ÿè¯„è®ºä¸­æåŠæ¬¡æ•°
   - negativeCount: 1-3æ˜Ÿè¯„è®ºä¸­æåŠæ¬¡æ•°
   - **å¿…é¡»è‡³å°‘è¿”å›5ä¸ªäººç¾¤ç‰¹å¾**

2. **ä½¿ç”¨æ—¶åˆ»ï¼ˆusageTimeï¼‰** - âš ï¸ å¿…é¡»è¿”å›5ä¸ªä»¥ä¸Šï¼š
   - keyword: è‹±æ–‡å…³é”®è¯ï¼ˆå¦‚ "Daily Use", "Weekend", "Evening", "Morning"ï¼‰
   - keywordCn: ä¸­æ–‡ç¿»è¯‘ï¼ˆå¦‚ "æ—¥å¸¸ä½¿ç”¨", "å‘¨æœ«", "æ™šä¸Š", "æ—©æ™¨"ï¼‰
   - positiveCount: 4-5æ˜Ÿè¯„è®ºä¸­æåŠæ¬¡æ•°
   - negativeCount: 1-3æ˜Ÿè¯„è®ºä¸­æåŠæ¬¡æ•°
   - **å¿…é¡»è‡³å°‘è¿”å›5ä¸ªä½¿ç”¨æ—¶åˆ»**

3. **ä½¿ç”¨åœ°ç‚¹ï¼ˆusageLocationï¼‰** - âš ï¸ å¿…é¡»è¿”å›5ä¸ªä»¥ä¸Šï¼š
   - keyword: è‹±æ–‡å…³é”®è¯ï¼ˆå¦‚ "Home", "Office", "Gym", "Outdoor"ï¼‰
   - keywordCn: ä¸­æ–‡ç¿»è¯‘ï¼ˆå¦‚ "å®¶ä¸­", "åŠå…¬å®¤", "å¥èº«æˆ¿", "æˆ·å¤–"ï¼‰
   - positiveCount: 4-5æ˜Ÿè¯„è®ºä¸­æåŠæ¬¡æ•°
   - negativeCount: 1-3æ˜Ÿè¯„è®ºä¸­æåŠæ¬¡æ•°
   - **å¿…é¡»è‡³å°‘è¿”å›5ä¸ªä½¿ç”¨åœ°ç‚¹**
   - âš ï¸ å¦‚æœè¯„è®ºä¸­æ²¡æœ‰æ˜ç¡®æåˆ°ï¼Œæ ¹æ®äº§å“ç‰¹æ€§æ¨æµ‹åˆç†åœ°ç‚¹

4. **è¡Œä¸ºç‰¹å¾ï¼ˆbehaviorï¼‰** - âš ï¸ å¿…é¡»è¿”å›5ä¸ªä»¥ä¸Šï¼š
   - keyword: è‹±æ–‡å…³é”®è¯ï¼ˆå¦‚ "Listening to Music", "Working", "Exercising"ï¼‰
   - keywordCn: ä¸­æ–‡ç¿»è¯‘ï¼ˆå¦‚ "å¬éŸ³ä¹", "å·¥ä½œ", "é”»ç‚¼"ï¼‰
   - positiveCount: 4-5æ˜Ÿè¯„è®ºä¸­æåŠæ¬¡æ•°
   - negativeCount: 1-3æ˜Ÿè¯„è®ºä¸­æåŠæ¬¡æ•°
   - **å¿…é¡»è‡³å°‘è¿”å›5ä¸ªè¡Œä¸ºç‰¹å¾**

**å¼ƒç”¨å­—æ®µè¯´æ˜ï¼ˆä»¥ä¸‹å­—æ®µå·²ä¸å†ä½¿ç”¨ï¼‰ï¼š**

XX. **æ€§åˆ«æ¯”ä¾‹è¯†åˆ«ï¼ˆgenderRatioï¼‰** - âš ï¸ æœ€é‡è¦çš„åˆ†æç»´åº¦ï¼š
   
   **ğŸ¯ å¤šå±‚æ¬¡è¯†åˆ«ç­–ç•¥ï¼ˆæŒ‰ä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰ï¼š**
   
   **ç¬¬ä¸€å±‚ï¼šç›´æ¥æ€§åˆ«çº¿ç´¢è¯ï¼ˆæœ€å¯é ï¼Œæƒé‡100%ï¼‰**
   - ç”·æ€§ï¼šhe, him, his, son, boy, dad, father, husband, boyfriend, nephew, grandson, brother, man, male, gentleman, Mr., male customer
   - å¥³æ€§ï¼šshe, her, hers, daughter, girl, mom, mother, wife, girlfriend, niece, granddaughter, sister, woman, female, lady, Mrs., Ms., female customer
   
   **ç¬¬äºŒå±‚ï¼šè¯„è®ºè€…å§“ååˆ¤æ–­ï¼ˆå¯é ï¼Œæƒé‡90%ï¼‰**
   - å¸¸è§ç”·æ€§åï¼šJohn, Michael, David, James, Robert, William, Richard, Thomas, Mark, Daniel, etc.
   - å¸¸è§å¥³æ€§åï¼šMary, Jennifer, Linda, Patricia, Susan, Jessica, Sarah, Karen, Lisa, Nancy, Emily, etc.
   - æ³¨æ„ï¼šå¦‚æœå§“åæ— æ³•åˆ¤æ–­æ€§åˆ«ï¼Œå½’ä¸ºunknown
   
   **ç¬¬ä¸‰å±‚ï¼šè´­ä¹°å…³ç³»æ¨æµ‹ï¼ˆä¸­ç­‰å¯é ï¼Œæƒé‡70%ï¼‰**
   - "bought for my husband/boyfriend/dad/son" â†’ è´­ä¹°è€…å¯èƒ½æ˜¯å¥³æ€§
   - "bought for my wife/girlfriend/mom/daughter" â†’ è´­ä¹°è€…å¯èƒ½æ˜¯ç”·æ€§
   - "gift for him" â†’ è´­ä¹°è€…å¯èƒ½æ˜¯å¥³æ€§
   - "gift for her" â†’ è´­ä¹°è€…å¯èƒ½æ˜¯ç”·æ€§
   - "my husband loves it" â†’ è¯„è®ºè€…å¯èƒ½æ˜¯å¥³æ€§
   - "my wife loves it" â†’ è¯„è®ºè€…å¯èƒ½æ˜¯ç”·æ€§
   
   **ç¬¬å››å±‚ï¼šäº§å“ç±»å‹æ¨æµ‹ï¼ˆä½å¯é ï¼Œæƒé‡40%ï¼Œè°¨æ…ä½¿ç”¨ï¼‰**
   - å¦‚æœäº§å“æ˜¯å¥³æ€§ä¸“ç”¨ï¼ˆå¦‚å¥³è£…ã€åŒ–å¦†å“ã€å¥³æ€§æŠ¤ç†ç”¨å“ï¼‰â†’ æ¨æµ‹å¥³æ€§æ¯”ä¾‹æ›´é«˜ï¼ˆä½†ä¸ç»å¯¹ï¼Œå¯èƒ½æ˜¯ç”·æ€§é€ç¤¼ï¼‰
   - å¦‚æœäº§å“æ˜¯ç”·æ€§ä¸“ç”¨ï¼ˆå¦‚ç”·è£…ã€ç”·æ€§ç¾å®¹ç”¨å“ã€ç”·æ€§å·¥å…·ï¼‰â†’ æ¨æµ‹ç”·æ€§æ¯”ä¾‹æ›´é«˜
   - å¦‚æœæ˜¯ä¸­æ€§äº§å“ï¼ˆå¦‚ç”µå­äº§å“ã€å®¶å±…ç”¨å“ï¼‰â†’ ä¸åšæ€§åˆ«æ¨æµ‹
   
   **ç¬¬äº”å±‚ï¼šè¯­æ°”å’Œè¡¨è¾¾æ–¹å¼ï¼ˆæœ€ä¸å¯é ï¼Œæƒé‡20%ï¼Œä»…ä¾›å‚è€ƒï¼‰**
   - ç»†è…»ã€æƒ…æ„ŸåŒ–çš„è¡¨è¾¾å¯èƒ½åå‘å¥³æ€§ï¼ˆä½†ä¸ç»å¯¹ï¼‰
   - ç®€æ´ã€æŠ€æœ¯åŒ–çš„è¡¨è¾¾å¯èƒ½åå‘ç”·æ€§ï¼ˆä½†ä¸ç»å¯¹ï¼‰
   
   **âš ï¸ å…³é”®è®¡ç®—è¦æ±‚ï¼š**
   - male + female + unknown = 100.00ï¼ˆå¿…é¡»ä¸¥æ ¼ç›¸åŠ ç­‰äº100ï¼Œè¿™æ˜¯é“å¾‹ï¼ï¼‰
   - ç™¾åˆ†æ¯”ç²¾ç¡®åˆ°å°æ•°ç‚¹å2ä½ï¼ˆå¦‚ï¼šmale: 35.00, female: 42.00, unknown: 23.00ï¼‰
   - âš ï¸ **éªŒè¯å…¬å¼ï¼š35.00 + 42.00 + 23.00 = 100.00 âœ“**
   - ğŸ¯ **ç›®æ ‡è¯†åˆ«ç‡ï¼šmale + female å¿…é¡» â‰¥ 30%**ï¼ˆShulexæ ‡å‡†æ˜¯20%ï¼Œæˆ‘ä»¬è¦åšåˆ°30%+ï¼‰
   - 
   - âš ï¸ **æåº¦å®½æ¾ç­–ç•¥ - éå¸¸é‡è¦ï¼**
   - âœ… **ç¬¬1ä¼˜å…ˆçº§ï¼šåªè¦æœ‰ä¸€ç‚¹ç‚¹çº¿ç´¢ï¼Œå°±å¤§èƒ†æ¨æµ‹ï¼**
     * åå­—çœ‹èµ·æ¥åƒç”·æ€§ï¼ˆJohn, Michael, David...ï¼‰â†’ ç›´æ¥æ ‡è®°ä¸ºç”·æ€§
     * åå­—çœ‹èµ·æ¥åƒå¥³æ€§ï¼ˆMary, Jennifer, Lisa...ï¼‰â†’ ç›´æ¥æ ‡è®°ä¸ºå¥³æ€§
     * å³ä½¿ä¸æ˜¯100%ç¡®å®šï¼Œåªè¦æœ‰50%ä»¥ä¸Šå¯èƒ½ï¼Œå°±æ¨æµ‹ï¼
   
   - âœ… **ç¬¬2ä¼˜å…ˆçº§ï¼šæ ¹æ®äº§å“ç±»å‹æ¨æµ‹**
     * æ‰‹æœºç±»äº§å“ï¼šé»˜è®¤ç”·æ€§55%ï¼Œå¥³æ€§45%ï¼ˆæŠ€æœ¯äº§å“ç”·æ€§ç•¥å¤šï¼‰
     * æœè£…ç±»äº§å“ï¼šæ ¹æ®æ¬¾å¼æ¨æµ‹ï¼ˆç”·è£…â†’ç”·æ€§å¤šï¼Œå¥³è£…â†’å¥³æ€§å¤šï¼‰
     * å®¶å±…ç±»äº§å“ï¼šå¥³æ€§æ¯”ä¾‹é€šå¸¸æ›´é«˜ï¼ˆ60%å¥³æ€§ï¼Œ40%ç”·æ€§ï¼‰
     * å„¿ç«¥äº§å“ï¼šè´­ä¹°è€…å¤šä¸ºå¥³æ€§ï¼ˆå¦ˆå¦ˆï¼‰â†’ å¥³æ€§60%ï¼Œç”·æ€§40%
   
   - âœ… **ç¬¬3ä¼˜å…ˆçº§ï¼šè¯­æ°”å’Œè¡¨è¾¾æ¨æµ‹ï¼ˆå®½æ¾ä½¿ç”¨ï¼‰**
     * ç»†è…»æè¿°ã€emojiå¤šã€æ„Ÿå¹å·å¤š â†’ å¯èƒ½æ˜¯å¥³æ€§
     * ç®€æ´ã€æŠ€æœ¯è¯æ±‡å¤š â†’ å¯èƒ½æ˜¯ç”·æ€§
   
   - âš ï¸ **ä¸¥ç¦è¿‡åº¦ä¿å®ˆï¼**
   - å¦‚æœmale + female < 20%ï¼Œè¯´æ˜ä½ å¤ªä¿å®ˆäº†ï¼Œå¿…é¡»é‡æ–°åˆ†æï¼
   - å®å¯æ¨æµ‹é”™è¯¯ï¼Œä¹Ÿä¸è¦æ ‡è®°ä¸ºunknownï¼
   - unknownåº”è¯¥åªç”¨äºçœŸçš„å®Œå…¨æ— æ³•åˆ¤æ–­çš„æƒ…å†µï¼ˆå¦‚çº¯æ•°å­—è¯„è®ºã€å¤–è¯­è¯„è®ºï¼‰
   
   **åˆ†ææµç¨‹ï¼š**
   1. é€æ¡åˆ†ææ¯æ¡è¯„è®ºï¼Œåº”ç”¨ä¸Šè¿°5å±‚ç­–ç•¥
   2. å¯¹æ¯æ¡è¯„è®ºæ ‡è®°ï¼šç”·æ€§(M)ã€å¥³æ€§(F)ã€ä¸ç¡®å®š(U)
   3. ç»Ÿè®¡ï¼šMæ¡è¯„è®ºã€Fæ¡è¯„è®ºã€Uæ¡è¯„è®º
   4. è®¡ç®—æ¯”ä¾‹ï¼šmale = M/æ€»è¯„è®ºæ•°Ã—100.00, female = F/æ€»è¯„è®ºæ•°Ã—100.00, unknown = 100.00 - male - female
   5. **æœ€åéªŒè¯ï¼šmale + female + unknown = 100.00**ï¼ˆå¦‚æœä¸ç­‰äº100.00ï¼Œè°ƒæ•´unknownä½¿å…¶ç›¸ç­‰ï¼‰
   
2. **äººç¾¤ç‰¹å¾ï¼ˆdemographicsï¼‰**ï¼š
   - è¯†åˆ«å¹´é¾„/äººç¾¤ï¼šbabyï¼ˆå©´å„¿0-1å²ï¼‰, toddlerï¼ˆå¹¼å„¿1-3å²ï¼‰, kid/childï¼ˆå„¿ç«¥3-12å²ï¼‰, teenï¼ˆé’å°‘å¹´13-18å²ï¼‰, adultï¼ˆæˆäºº18+ï¼‰, pregnantï¼ˆå­•å¦‡ï¼‰, elderlyï¼ˆè€å¹´äººï¼‰
   - è¯†åˆ«è§’è‰²ï¼šparentsï¼ˆçˆ¶æ¯ï¼‰, grandparentsï¼ˆç¥–çˆ¶æ¯ï¼‰, teacherï¼ˆè€å¸ˆï¼‰, nurseï¼ˆæŠ¤å£«ï¼‰ç­‰
   - è¿”å›TOP 3-5é¡¹ï¼Œç™¾åˆ†æ¯”ç²¾ç¡®åˆ°å°æ•°ç‚¹å2ä½
   - æ¯é¡¹é™„å¸¦è¯¦ç»†åŸå› è¯´æ˜ï¼ˆ50-100å­—ï¼‰

3. **ä½¿ç”¨æ—¶åˆ»ï¼ˆusageTimeï¼‰**ï¼š
   - ç‰¹æ®ŠèŠ‚æ—¥ï¼šbirthday, Christmas, Easter, Halloween, Thanksgiving, Valentine's Day
   - äººç”Ÿå¤§äº‹ï¼šwedding, baby shower, graduation, baptism, christening
   - æ—¥å¸¸åœºæ™¯ï¼šdaily, everyday, weekend, vacation, holiday
   - è¿”å›TOP 3-5é¡¹ï¼Œç™¾åˆ†æ¯”ç²¾ç¡®åˆ°å°æ•°ç‚¹å2ä½

4. **ä½¿ç”¨åœ°ç‚¹ï¼ˆusageLocationï¼‰** - âš ï¸ **å¿…é¡»è¿”å›çœŸå®æ•°æ®ï¼Œç¦æ­¢"æ•°æ®ä¸è¶³"æˆ–"--"**ï¼š
   
   **ğŸ¯ å¼ºåˆ¶æ¨æµ‹ç­–ç•¥ï¼ˆå¿…é¡»æ‰§è¡Œï¼‰ï¼š**
   
   **ç¬¬1æ­¥ï¼šæ˜ç¡®æåŠï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰**
   - å¦‚æœè¯„è®ºä¸­æ˜ç¡®æåˆ°åœ°ç‚¹ï¼š
     * "åœ¨å®¶ç”¨"ã€"at home" â†’ å®¶ä¸­
     * "å…¬å›­é‡Œ"ã€"at park" â†’ æˆ·å¤–/å…¬å›­
     * "ä¸Šç­ç”¨"ã€"at work" â†’ åŠå…¬å®¤/å·¥ä½œåœºæ‰€
     * "å­¦æ ¡"ã€"school" â†’ å­¦æ ¡
   
   **ç¬¬2æ­¥ï¼šåœºæ™¯æ¨æµ‹ï¼ˆå¦‚æœç¬¬1æ­¥æ²¡æ‰¾åˆ°ï¼‰**
   - æ ¹æ®ä½¿ç”¨åœºæ™¯æ¨æµ‹åœ°ç‚¹ï¼š
     * æåˆ°ç¡è§‰ã€åšé¥­ã€çœ‹ç”µè§†ã€å……ç”µ â†’ å®¶ä¸­
     * æåˆ°èšä¼šã€åº†ç¥ã€æ‹ç…§ â†’ æ´¾å¯¹ä¼šåœº/å®¶åº­èšä¼š
     * æåˆ°è¿åŠ¨ã€ç©è€ã€æ•£æ­¥ â†’ æˆ·å¤–/å…¬å›­
     * æåˆ°å­¦ä¹ ã€ä¸Šè¯¾ â†’ å­¦æ ¡/å›¾ä¹¦é¦†
     * æåˆ°commuteã€travelã€å‡ºå·® â†’ äº¤é€šå·¥å…·/æ—…é€”
   
   **ç¬¬3æ­¥ï¼šäº§å“ç±»å‹é»˜è®¤æ¨æµ‹ï¼ˆå¦‚æœå‰ä¸¤æ­¥éƒ½æ²¡æ‰¾åˆ°ï¼Œå¼ºåˆ¶ä½¿ç”¨ï¼‰**
   - **æ‰‹æœºç±»äº§å“**ï¼ˆå¦‚iPhoneï¼‰ï¼š
     1. å®¶ä¸­ (60%) - æœ€å¸¸ä½¿ç”¨åœ°ç‚¹
     2. å·¥ä½œåœºæ‰€/åŠå…¬å®¤ (20%) - å·¥ä½œé€šè®¯
     3. äº¤é€šå·¥å…·/è·¯ä¸Š (15%) - é€šå‹¤ä½¿ç”¨
     4. å…¬å…±åœºæ‰€ (5%) - é¤å…ã€å•†åœºç­‰
   
   - **å…¶ä»–äº§å“ç±»å‹**ï¼š
     * å®¶å±…ç”¨å“ â†’ å®¶ä¸­ (80%), åŠå…¬å®¤ (15%), å…¶ä»– (5%)
     * æˆ·å¤–è£…å¤‡ â†’ æˆ·å¤–/å…¬å›­ (70%), å®¶ä¸­ (20%), æ—…è¡Œ (10%)
     * æœè£…ç±» â†’ æ—¥å¸¸ç”Ÿæ´» (50%), æ´¾å¯¹ (25%), å·¥ä½œ (15%), è¿åŠ¨ (10%)
   
   **âš ï¸ ä¸¥æ ¼è¦æ±‚ï¼š**
   - âŒ **ç»å¯¹ç¦æ­¢è¿”å›"æ•°æ®ä¸è¶³"ã€"--"ã€"æ— æ³•åˆ†æ"ç­‰**
   - âœ… **å¿…é¡»è‡³å°‘è¿”å›3ä¸ªä½¿ç”¨åœ°ç‚¹**
   - âœ… å¦‚æœè¯„è®ºä¸­çœŸçš„æ²¡æœ‰æ˜ç¡®ä¿¡æ¯ï¼Œä½¿ç”¨ç¬¬3æ­¥çš„äº§å“ç±»å‹é»˜è®¤å€¼
   - âœ… ç™¾åˆ†æ¯”ç²¾ç¡®åˆ°å°æ•°ç‚¹å2ä½
   - âœ… æ¯ä¸ªåœ°ç‚¹å¿…é¡»æœ‰reasonè¯´æ˜ï¼ˆå¯ä»¥è¯´"æ ¹æ®äº§å“ç‰¹æ€§æ¨æµ‹"ï¼‰

5. **è¡Œä¸ºç‰¹å¾ï¼ˆbehaviorsï¼‰**ï¼š
   - è´­ä¹°è¡Œä¸ºï¼šgiftï¼ˆé€ç¤¼ï¼‰, collectï¼ˆæ”¶è—ï¼‰, replaceï¼ˆæ›¿æ¢ï¼‰
   - ä½¿ç”¨è¡Œä¸ºï¼šphotoshootï¼ˆæ‹ç…§ï¼‰, displayï¼ˆå±•ç¤ºï¼‰, wear dailyï¼ˆæ—¥å¸¸ç©¿ç€ï¼‰
   - âœ… **å¿…é¡»è‡³å°‘è¿”å›3ä¸ªè¡Œä¸ºç‰¹å¾**
   - âœ… å¦‚æœè¯„è®ºä¸­çœŸçš„æ²¡æœ‰æ˜ç¡®ä¿¡æ¯ï¼ŒåŸºäºäº§å“ç±»å‹æ¨æµ‹å¸¸è§è¡Œä¸º
   - âœ… ç™¾åˆ†æ¯”ç²¾ç¡®åˆ°å°æ•°ç‚¹å2ä½
   - âœ… æ¯ä¸ªè¡Œä¸ºå¿…é¡»æœ‰reasonè¯´æ˜ï¼ˆå¯ä»¥è¯´"æ ¹æ®äº§å“ç‰¹æ€§æ¨æµ‹"ï¼‰

**æ•°æ®ç»Ÿè®¡è¯´æ˜ï¼š**
- positiveCount: åœ¨4-5æ˜Ÿè¯„è®ºä¸­æåŠè¯¥å…³é”®è¯çš„æ¬¡æ•°ï¼ˆæ•´æ•°ï¼‰
- negativeCount: åœ¨1-3æ˜Ÿè¯„è®ºä¸­æåŠè¯¥å…³é”®è¯çš„æ¬¡æ•°ï¼ˆæ•´æ•°ï¼‰
- ç»Ÿè®¡æ–¹å¼ï¼šéå†æ‰€æœ‰è¯„è®ºï¼Œå¦‚æœè¯„è®ºå†…å®¹åŒ…å«è¯¥å…³é”®è¯ï¼Œåˆ™è®¡æ•°+1
- ç¤ºä¾‹ï¼šå¦‚æœ100æ¡è¯„è®ºä¸­ï¼Œæœ‰45æ¡4-5æ˜Ÿè¯„è®ºæåˆ°"son"ï¼Œ3æ¡1-3æ˜Ÿè¯„è®ºæåˆ°"son"ï¼Œåˆ™positiveCount=45, negativeCount=3

**è¾“å‡ºæ ¼å¼è¦æ±‚ï¼š**
- å¿…é¡»è¿”å›æœ‰æ•ˆçš„JSONæ ¼å¼
- keywordä½¿ç”¨è‹±æ–‡ï¼ŒkeywordCnä½¿ç”¨ä¸­æ–‡ç¿»è¯‘
- positiveCountå’ŒnegativeCountå¿…é¡»æ˜¯æ•´æ•°ï¼ˆä¸æ˜¯ç™¾åˆ†æ¯”ï¼‰
- ç¡®ä¿æ¯ä¸ªç»´åº¦éƒ½æœ‰è‡³å°‘5ä¸ªæ•°æ®ç‚¹

**âš ï¸ æœ€ç»ˆæ£€æŸ¥ï¼ˆå¿…é¡»é€šè¿‡ï¼‰ï¼š**
1. âœ… persona: è‡³å°‘5ä¸ªï¼Œæ¯ä¸ªæœ‰keyword/keywordCn/positiveCount/negativeCount
2. âœ… usageTime: è‡³å°‘5ä¸ªï¼Œæ¯ä¸ªæœ‰keyword/keywordCn/positiveCount/negativeCount
3. âœ… **usageLocation: å¿…é¡»è‡³å°‘5ä¸ªï¼Œä¸å…è®¸ä¸ºç©ºæ•°ç»„æˆ–"æ•°æ®ä¸è¶³"**
4. âœ… **behavior: å¿…é¡»è‡³å°‘5ä¸ªï¼Œæ¯ä¸ªæœ‰keyword/keywordCn/positiveCount/negativeCount**
5. âœ… positiveCountå’ŒnegativeCountå¿…é¡»æ˜¯æ•´æ•°ï¼Œä¸èƒ½æ˜¯å°æ•°æˆ–ç™¾åˆ†æ¯”

**å¦‚æœä»»ä½•ç»´åº¦ä¸ºç©ºæˆ–å°‘äº5ä¸ªï¼Œç³»ç»Ÿä¼šæŠ¥é”™ï¼è¯·åŠ¡å¿…è¿”å›çœŸå®æ•°æ®ï¼**

è¯·ä»”ç»†åˆ†æè¯„è®ºå†…å®¹ï¼Œæå–çœŸå®çš„æ¶ˆè´¹è€…ç”»åƒç‰¹å¾ã€‚`
  }

  /**
   * 2. ä½¿ç”¨åœºæ™¯åˆ†æ
   */
  static getUsageScenariosPrompt(reviews) {
    const reviewText = reviews.slice(0, 100).map((r, i) => 
      `[${i+1}] ${r.rating}æ˜Ÿ | ${r.title} | ${r.body || r.content || ''}`
    ).join('\n')

    return `ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„äº§å“ä½¿ç”¨åœºæ™¯åˆ†æå¸ˆã€‚è¯·åŸºäºä»¥ä¸‹${reviews.length}æ¡Amazonäº§å“è¯„è®ºï¼Œæ·±åº¦åˆ†æç”¨æˆ·çš„ä½¿ç”¨åœºæ™¯ã€‚

âš ï¸ é‡è¦ï¼šå³ä½¿è¯„è®ºä¸­æ²¡æœ‰æ˜ç¡®æåˆ°ä½¿ç”¨åœºæ™¯ï¼Œä¹Ÿè¦æ ¹æ®äº§å“ç‰¹æ€§ã€ç”¨æˆ·è¯„ä»·å†…å®¹ã€è´­ä¹°åŠ¨æœºç­‰æ¨ç†å‡ºåˆç†çš„ä½¿ç”¨åœºæ™¯ã€‚å¿…é¡»è¿”å›è‡³å°‘3-5ä¸ªåœºæ™¯ã€‚

è¯„è®ºæ•°æ®ï¼ˆå…±${reviews.length}æ¡ï¼Œåˆ†æå‰100æ¡ï¼‰ï¼š
${reviewText}

è¿”å›JSONæ ¼å¼ï¼ˆç›´æ¥è¿”å›æ•°ç»„ï¼Œä¸éœ€è¦scenariosåŒ…è£…ï¼‰ï¼š
[
  {
    "name": "é›¶é£Ÿå‡†å¤‡",
    "percentage": 35,
    "description": "ç”¨æˆ·å°†äº§å“ç”¨äºå¿«é€Ÿåˆ¶ä½œå¥åº·é›¶é£Ÿï¼Œç‰¹åˆ«æ˜¯ä¸ºå­©å­å‡†å¤‡è‹¹æœç‰‡",
    "reason": "è®¸å¤šç”¨æˆ·æåˆ°è¯¥äº§å“åœ¨å¿«é€Ÿåˆ‡ç‰‡è‹¹æœæ—¶çš„æœ‰æ•ˆæ€§ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå„¿ç«¥å’Œè†³é£Ÿå‡†å¤‡æ–¹é¢çš„æœ‰æ•ˆæ€§ã€‚è¿™è¡¨æ˜å®ƒå·²æˆä¸ºå®¶åº­é›¶é£Ÿå‡†å¤‡çš„å®ç”¨å·¥å…·"
  },
  {
    "name": "å®¶åº­æ—¥å¸¸",
    "percentage": 28,
    "description": "å®¶åº­æ—¥å¸¸ä½¿ç”¨ï¼Œç®€åŒ–æ°´æœå¤„ç†æµç¨‹",
    "reason": "ä¸€äº›è¯„è®ºå¼ºè°ƒï¼Œè¯¥äº§å“éå¸¸é€‚åˆå®¶åº­ï¼Œç‰¹åˆ«æ˜¯ä¸ºå„¿ç«¥åˆ¶ä½œè‹¹æœç‰‡"
  },
  {
    "name": "èšä¼šæ´»åŠ¨",
    "percentage": 20,
    "description": "åœ¨èšä¼šæˆ–æ´»åŠ¨ä¸­å¿«é€Ÿå‡†å¤‡æ°´æœæ‹¼ç›˜",
    "reason": "ç”¨æˆ·æåˆ°åœ¨èšä¼šæ—¶ä½¿ç”¨ï¼Œæ•ˆç‡é«˜"
  },
  {
    "name": "é€ç¤¼",
    "percentage": 12,
    "description": "ä½œä¸ºç¤¼ç‰©é€ç»™äº²å‹",
    "reason": "éƒ¨åˆ†ç”¨æˆ·è´­ä¹°åä½œä¸ºç¤¼ç‰©èµ é€"
  },
  {
    "name": "çƒ˜ç„™åˆ¶ä½œ",
    "percentage": 5,
    "description": "ç”¨äºçƒ˜ç„™å‰çš„è‹¹æœå¤„ç†",
    "reason": "å°‘æ•°ç”¨æˆ·ç”¨äºåˆ¶ä½œè‹¹æœæ´¾ç­‰çƒ˜ç„™é£Ÿå“"
  }
]

å…³é”®è¦æ±‚ï¼š
1. ã€å¿…é¡»ä¸­æ–‡è¾“å‡ºã€‘æ‰€æœ‰å­—æ®µå¿…é¡»ä½¿ç”¨ä¸­æ–‡
2. ã€å­—æ®µåã€‘nameå¿…é¡»æ˜¯3-10å­—ç¬¦çš„ä¸­æ–‡çŸ­æ ‡é¢˜ï¼ˆå¦‚"é›¶é£Ÿå‡†å¤‡"ã€"å®¶åº­æ—¥å¸¸"ã€"é€ç¤¼"ï¼‰
3. ã€ç™¾åˆ†æ¯”è®¡ç®—ã€‘percentageæ˜¯è¯¥åœºæ™¯åœ¨æ‰€æœ‰åœºæ™¯ä¸­çš„å®é™…å æ¯”
   - è®¡ç®—æ–¹å¼ï¼š(è¯¥åœºæ™¯æåŠæ¬¡æ•° / æ‰€æœ‰åœºæ™¯æ€»æåŠæ¬¡æ•°) Ã— 100
   - æ³¨æ„ï¼šåªè¿”å›å‰5ä¸ªæœ€é‡è¦çš„åœºæ™¯ï¼Œä½†ç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹äºæ‰€æœ‰å‘ç°çš„åœºæ™¯è®¡ç®—çš„
   - å› æ­¤å‰5ä¸ªçš„ç™¾åˆ†æ¯”åŠ èµ·æ¥é€šå¸¸åœ¨60-80%ï¼Œå‰©ä½™çš„20-40%åœ¨å…¶ä»–æœªè¿”å›çš„åœºæ™¯ä¸­
4. descriptionæ˜¯åœºæ™¯çš„ç®€çŸ­ä¸­æ–‡æè¿°
5. reasonæ˜¯ä½ çš„æ·±åº¦ä¸­æ–‡åˆ†æï¼ˆä¸ºä»€ä¹ˆç”¨æˆ·åœ¨è¿™ä¸ªåœºæ™¯ä½¿ç”¨ï¼‰

âš ï¸ **å¿…é¡»è¿”å›è‡³å°‘10-15ä¸ªä½¿ç”¨åœºæ™¯ï¼ˆå¯¹æ ‡Shulexï¼‰ï¼**
- Shulexé€šå¸¸è¿”å›10-20ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬ä¹Ÿè¦åšåˆ°è¿™ä¸ªæ°´å¹³
- è¯·æ·±åº¦åˆ†ææ‰€æœ‰è¯„è®ºï¼Œè¯†åˆ«æ‰€æœ‰å¯èƒ½çš„ä½¿ç”¨åœºæ™¯
- åŒ…æ‹¬ä¸»è¦åœºæ™¯ã€æ¬¡è¦åœºæ™¯å’Œæ½œåœ¨åœºæ™¯
- å¦‚æœè¯„è®ºä¸­æ˜ç¡®æåˆ°çš„åœºæ™¯ä¸è¶³10ä¸ªï¼Œè¯·æ ¹æ®äº§å“ç‰¹æ€§ã€ç”¨æˆ·è¯„ä»·ã€è¡Œä¸šå¸¸è§åœºæ™¯è¿›è¡Œåˆç†æ¨ç†
- ä¾‹å¦‚ï¼šè€³æœºå¯èƒ½ç”¨äº"éŸ³ä¹æ¬£èµ"ã€"å¥èº«è¿åŠ¨"ã€"é€šå‹¤è·¯ä¸Š"ã€"å·¥ä½œç”µè¯"ã€"æ¸¸æˆå¨±ä¹"ã€"å­¦ä¹ ä¸“æ³¨"ã€"ç¡å‰æ”¾æ¾"ã€"è§†é¢‘ä¼šè®®"ã€"æˆ·å¤–æ´»åŠ¨"ã€"æ—…è¡Œé€”ä¸­"ç­‰
- å®å¯æ¨æµ‹æ›´å¤šï¼Œä¹Ÿä¸è¦å°‘äº10ä¸ªï¼
- ä½†è¦ç¡®ä¿æ¯ä¸ªåœºæ™¯éƒ½æœ‰åˆç†çš„ä¾æ®ï¼Œä¸èƒ½å®Œå…¨å‡­ç©ºæé€ `
  }

  /**
   * 3. æ˜Ÿçº§å½±å“åº¦åˆ†æï¼ˆæš‚æ—¶ä¸ç”¨ï¼‰
   */
  static getStarRatingImpactPrompt(reviews) {
    const reviewText = reviews.map(r => 
      `${r.rating}æ˜Ÿ | ${r.title} | ${r.body || r.content || ''}`
    ).join('\n')

    return `åˆ†æä¸åŒæ˜Ÿçº§è¯„è®ºçš„å…³æ³¨ç‚¹å·®å¼‚ã€‚

è¯„è®ºæ•°æ®ï¼š
${reviewText}

è¿”å›JSONæ ¼å¼ï¼š
{
  "ratingDistribution": {
    "5star": 60,
    "4star": 25,
    "3star": 10,
    "2star": 3,
    "1star": 2
  },
  "keyFactors": [
    {
      "factor": "æ˜“ç”¨æ€§",
      "positiveImpact": 80,
      "negativeImpact": 10,
      "reason": "æ˜“ç”¨æ€§æ˜¯å½±å“è¯„åˆ†çš„æœ€å…³é”®å› ç´ "
    }
  ]
}`
  }

  /**
   * 4. äº§å“ä½“éªŒåˆ†æ - å¥½è¯„
   */
  static getProductExperienceStrengthsPrompt(reviews) {
    const positiveReviews = reviews.filter(r => r.rating >= 4)
    const reviewText = positiveReviews.slice(0, 100).map(r => 
      `${r.rating}æ˜Ÿ | ${r.body || r.content || ''}`
    ).join('\n')

    return `åˆ†æäº§å“çš„æ‰€æœ‰ä¼˜ç‚¹ï¼ˆè¿”å›è‡³å°‘10-15æ¡ï¼Œå¯¹æ ‡Shulexï¼‰ã€‚

è¯„è®ºæ•°æ®ï¼ˆ4-5æ˜Ÿå¥½è¯„ï¼Œå…±${positiveReviews.length}æ¡ï¼‰ï¼š
${reviewText}

è¿”å›JSONæ ¼å¼ï¼ˆç›´æ¥è¿”å›æ•°ç»„ï¼Œä¸éœ€è¦strengthsåŒ…è£…ï¼‰ï¼š
[
  {
    "aspect": "æ˜“ç”¨æ€§",
    "percentage": 35,
    "reason": "è®¸å¤šç”¨æˆ·éƒ½æ¬£èµåˆ‡ç‰‡æœºçš„æ˜“ç”¨æ€§å’Œæ¸…æ´æ€§ï¼Œä½¿è‹¹æœåˆ‡ç‰‡æˆä¸ºä¸€é¡¹è½»æ¾çš„ä»»åŠ¡ã€‚"
  },
  {
    "aspect": "åšå›ºè€ç”¨",
    "percentage": 28,
    "reason": "è®¸å¤šè¯„è®ºè€…å–œæ¬¢åˆ‡ç‰‡æœºçš„è€ç”¨æè´¨å’Œåšå›ºç»“æ„ã€‚"
  },
  {
    "aspect": "é”‹åˆ©åˆ€ç‰‡",
    "percentage": 22,
    "reason": "ç”¨æˆ·èµæ‰¬åˆ€ç‰‡é”‹åˆ©ï¼Œåˆ‡ç‰‡æ•´é½ã€‚"
  },
  {
    "aspect": "æ€§ä»·æ¯”é«˜",
    "percentage": 10,
    "reason": "ç”¨æˆ·è®¤ä¸ºäº§å“ç‰©æœ‰æ‰€å€¼ã€‚"
  },
  {
    "aspect": "æ˜“æ¸…æ´—",
    "percentage": 5,
    "reason": "æ¸…æ´æ–¹ä¾¿ï¼ŒèŠ‚çœæ—¶é—´ã€‚"
  }
]

å…³é”®è¦æ±‚ï¼š
1. ã€å¿…é¡»ä¸­æ–‡è¾“å‡ºã€‘æ‰€æœ‰å­—æ®µå¿…é¡»ä½¿ç”¨ä¸­æ–‡ï¼ŒåŒ…æ‹¬aspectå’Œreason
2. ã€å­—æ®µåã€‘aspectå¿…é¡»æ˜¯3-10å­—ç¬¦çš„ä¸­æ–‡çŸ­æ ‡é¢˜ï¼ˆå¦‚"æ˜“ç”¨æ€§"ã€"åšå›ºè€ç”¨"ã€"é”‹åˆ©åˆ€ç‰‡"ï¼‰
3. ã€ç™¾åˆ†æ¯”è®¡ç®—ã€‘percentageæ˜¯è¯¥ä¼˜ç‚¹åœ¨æ‰€æœ‰ä¼˜ç‚¹ä¸­çš„å®é™…å æ¯”
   - è®¡ç®—æ–¹å¼ï¼š(è¯¥ä¼˜ç‚¹æåŠæ¬¡æ•° / æ‰€æœ‰ä¼˜ç‚¹æ€»æåŠæ¬¡æ•°) Ã— 100
   - âš ï¸ å¿…é¡»è¿”å›è‡³å°‘10-15ä¸ªä¼˜ç‚¹ï¼ˆå¯¹æ ‡Shulexï¼‰
   - è¯·æ·±åº¦åˆ†æè¯„è®ºï¼Œè¯†åˆ«æ‰€æœ‰è¢«æåŠçš„ä¼˜ç‚¹ï¼Œæ— è®ºæåŠé¢‘ç‡é«˜ä½
   - åŒ…æ‹¬ä¸»è¦ä¼˜ç‚¹ã€æ¬¡è¦ä¼˜ç‚¹å’Œæ½œåœ¨ä¼˜ç‚¹
   - æ‰€æœ‰ç™¾åˆ†æ¯”åŠ èµ·æ¥åº”è¯¥æ¥è¿‘100%
4. reasonæ˜¯ç®€çŸ­çš„ä¸­æ–‡AIæ€»ç»“ï¼ˆ1-2å¥è¯ï¼‰
5. ä¸è¦è¿”å›å…¶ä»–å­—æ®µï¼ˆexamplesã€keywordsã€mentionCountç­‰ï¼‰

âš ï¸ **æ•°æ®é‡è¦æ±‚ï¼šå¿…é¡»è¿”å›10-15æ¡ä¼˜ç‚¹æ•°æ®ï¼Œä¸å…è®¸å°‘äº10æ¡ï¼**`
  }

  /**
   * 4. äº§å“ä½“éªŒåˆ†æ - å·®è¯„
   */
  static getProductExperienceWeaknessesPrompt(reviews) {
    const negativeReviews = reviews.filter(r => r.rating <= 3)
    const reviewText = negativeReviews.slice(0, 100).map(r => 
      `${r.rating}æ˜Ÿ | ${r.body || r.content || ''}`
    ).join('\n')

    return `åˆ†æäº§å“çš„æ‰€æœ‰ç¼ºç‚¹ï¼ˆè¿”å›è‡³å°‘10-15æ¡ï¼Œå¯¹æ ‡Shulexï¼‰ã€‚

è¯„è®ºæ•°æ®ï¼ˆ1-3æ˜Ÿå·®è¯„ï¼Œå…±${negativeReviews.length}æ¡ï¼‰ï¼š
${reviewText}

è¿”å›JSONæ ¼å¼ï¼ˆç›´æ¥è¿”å›æ•°ç»„ï¼Œä¸éœ€è¦weaknessesåŒ…è£…ï¼‰ï¼š
[
  {
    "aspect": "éš¾ä»¥ä½¿ç”¨",
    "percentage": 40,
    "reason": "å¤§é‡ç”¨æˆ·å¯¹åˆ‡ç‰‡æœºæ— æ³•å®Œå…¨åˆ‡å¼€è‹¹æœè¡¨ç¤ºæ²®ä¸§ï¼Œéœ€è¦é¢å¤–çš„åŠªåŠ›ã€‚"
  },
  {
    "aspect": "åˆ€ç‰‡ä¸å¤Ÿé”‹åˆ©",
    "percentage": 30,
    "reason": "è®¸å¤šè¯„è®ºè¡¨ç¤ºåˆ€ç‰‡ä¸å¤Ÿé”‹åˆ©ï¼Œå¯¼è‡´è‹¹æœåˆ‡ç‰‡å›°éš¾ã€‚"
  },
  {
    "aspect": "è´¨é‡å·®",
    "percentage": 15,
    "reason": "éƒ¨åˆ†ç”¨æˆ·åæ˜ äº§å“æè´¨ä¸å¤Ÿç»“å®ï¼Œå®¹æ˜“æŸåã€‚"
  },
  {
    "aspect": "å°ºå¯¸é—®é¢˜",
    "percentage": 10,
    "reason": "ä¸€äº›ç”¨æˆ·æŠ±æ€¨äº§å“å°ºå¯¸ä¸åˆé€‚ã€‚"
  },
  {
    "aspect": "æ¸…æ´å›°éš¾",
    "percentage": 5,
    "reason": "éƒ¨åˆ†ç”¨æˆ·åæ˜ æ¸…æ´ä¸æ–¹ä¾¿ã€‚"
  }
]

å…³é”®è¦æ±‚ï¼š
1. ã€å¿…é¡»ä¸­æ–‡è¾“å‡ºã€‘æ‰€æœ‰å­—æ®µå¿…é¡»ä½¿ç”¨ä¸­æ–‡ï¼ŒåŒ…æ‹¬aspectå’Œreason
2. ã€å­—æ®µåã€‘aspectå¿…é¡»æ˜¯3-10å­—ç¬¦çš„ä¸­æ–‡çŸ­æ ‡é¢˜ï¼ˆå¦‚"éš¾ä»¥ä½¿ç”¨"ã€"åˆ€ç‰‡ä¸å¤Ÿé”‹åˆ©"ã€"åˆ‡å‰²ä¸å‡åŒ€"ï¼‰
3. ã€ç™¾åˆ†æ¯”è®¡ç®—ã€‘percentageæ˜¯è¯¥ç¼ºç‚¹åœ¨æ‰€æœ‰ç¼ºç‚¹ä¸­çš„å®é™…å æ¯”
   - è®¡ç®—æ–¹å¼ï¼š(è¯¥ç¼ºç‚¹æåŠæ¬¡æ•° / æ‰€æœ‰ç¼ºç‚¹æ€»æåŠæ¬¡æ•°) Ã— 100
   - æ³¨æ„ï¼šåªè¿”å›å‰5ä¸ªæœ€é‡è¦çš„ç¼ºç‚¹ï¼Œä½†ç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹äºæ‰€æœ‰å‘ç°çš„ç¼ºç‚¹è®¡ç®—çš„
   - å› æ­¤å‰5ä¸ªçš„ç™¾åˆ†æ¯”åŠ èµ·æ¥é€šå¸¸åœ¨60-80%ï¼Œå‰©ä½™çš„20-40%åœ¨å…¶ä»–æœªè¿”å›çš„ç¼ºç‚¹ä¸­
   - ç¤ºä¾‹ï¼šå¦‚æœå‘ç°8ä¸ªç¼ºç‚¹ï¼Œå‰5ä¸ªæåŠæ¬¡æ•°æ˜¯ 40, 30, 20, 15, 10ï¼ˆæ€»130æ¬¡ä¸­çš„115æ¬¡ï¼‰
     é‚£ä¹ˆç™¾åˆ†æ¯”æ˜¯ï¼š31%, 23%, 15%, 12%, 8%ï¼ˆæ€»è®¡89%ï¼Œå‰©ä½™11%åœ¨å…¶ä»–3ä¸ªç¼ºç‚¹ä¸­ï¼‰
4. reasonæ˜¯ç®€çŸ­çš„ä¸­æ–‡AIæ€»ç»“ï¼ˆ1-2å¥è¯ï¼‰
5. ä¸è¦è¿”å›å…¶ä»–å­—æ®µï¼ˆexamplesã€keywordsã€mentionCountç­‰ï¼‰`
  }

  /**
   * 5. è´­ä¹°åŠ¨æœºåˆ†æ
   */
  static getPurchaseMotivationPrompt(reviews) {
    const reviewText = reviews.slice(0, 100).map(r => 
      `${r.body || r.content || ''}`
    ).join('\n')

    return `åˆ†æç”¨æˆ·çš„æ‰€æœ‰è´­ä¹°åŠ¨æœºï¼ˆè¿”å›è‡³å°‘10-15æ¡ï¼Œå¯¹æ ‡Shulexï¼‰ã€‚

è¯„è®ºæ•°æ®ï¼ˆå…±${reviews.length}æ¡ï¼‰ï¼š
${reviewText}

è¿”å›JSONæ ¼å¼ï¼ˆç›´æ¥è¿”å›æ•°ç»„ï¼Œä¸éœ€è¦motivationsåŒ…è£…ï¼‰ï¼š
[
  {
    "type": "åŠŸèƒ½éœ€æ±‚",
    "percentage": 40,
    "description": "éœ€è¦å¿«é€Ÿåˆ‡è‹¹æœçš„å·¥å…·ï¼Œæé«˜çƒ¹é¥ªæ•ˆç‡",
    "reason": "å¤§éƒ¨åˆ†ç”¨æˆ·è´­ä¹°æ˜¯ä¸ºäº†æ»¡è¶³ç‰¹å®šåŠŸèƒ½éœ€æ±‚"
  },
  {
    "type": "ä¸ºå­©å­è´­ä¹°",
    "percentage": 25,
    "description": "ä¸ºå­©å­å‡†å¤‡å¥åº·é›¶é£Ÿï¼Œè®©å­©å­çˆ±ä¸Šåƒæ°´æœ",
    "reason": "å®¶é•¿ç¾¤ä½“æ˜¯ä¸»è¦è´­ä¹°è€…"
  },
  {
    "type": "æ€§ä»·æ¯”é«˜",
    "percentage": 20,
    "description": "ä»·æ ¼åˆç†ï¼Œæ€§èƒ½æ»¡è¶³éœ€æ±‚",
    "reason": "ç”¨æˆ·è®¤ä¸ºäº§å“ç‰©æœ‰æ‰€å€¼"
  },
  {
    "type": "é€ç¤¼",
    "percentage": 10,
    "description": "ä½œä¸ºç¤¼ç‰©é€ç»™äº²å‹",
    "reason": "éƒ¨åˆ†ç”¨æˆ·è´­ä¹°ç”¨äºèµ é€"
  },
  {
    "type": "æ›¿æ¢æ—§å“",
    "percentage": 5,
    "description": "æ›¿æ¢è€æ—§æˆ–æŸåçš„åˆ‡ç‰‡å™¨",
    "reason": "å°‘æ•°ç”¨æˆ·æ˜¯é‡å¤è´­ä¹°æˆ–å‡çº§"
  }
]

å…³é”®è¦æ±‚ï¼š
1. ã€å¿…é¡»ä¸­æ–‡è¾“å‡ºã€‘æ‰€æœ‰å­—æ®µå¿…é¡»ä½¿ç”¨ä¸­æ–‡
2. ã€å­—æ®µåã€‘typeå¿…é¡»æ˜¯3-10å­—ç¬¦çš„ä¸­æ–‡çŸ­æ ‡é¢˜ï¼ˆå¦‚"æ€§ä»·æ¯”é«˜"ã€"åŠŸèƒ½éœ€æ±‚"ã€"é€ç¤¼"ã€"ä¼˜è´¨ææ–™"ï¼‰
3. ã€ç™¾åˆ†æ¯”è®¡ç®—ã€‘percentageæ˜¯è¯¥åŠ¨æœºåœ¨æ‰€æœ‰åŠ¨æœºä¸­çš„å®é™…å æ¯”
   - è®¡ç®—æ–¹å¼ï¼š(è¯¥åŠ¨æœºæåŠæ¬¡æ•° / æ‰€æœ‰åŠ¨æœºæ€»æåŠæ¬¡æ•°) Ã— 100
   - âš ï¸ å¿…é¡»è¿”å›è‡³å°‘10-15ä¸ªè´­ä¹°åŠ¨æœºï¼ˆå¯¹æ ‡Shulexï¼‰
   - è¯·æ·±åº¦åˆ†æè¯„è®ºï¼Œè¯†åˆ«æ‰€æœ‰å¯èƒ½çš„è´­ä¹°åŠ¨æœº
   - åŒ…æ‹¬ä¸»è¦åŠ¨æœºã€æ¬¡è¦åŠ¨æœºå’Œæ½œåœ¨åŠ¨æœº
   - æ‰€æœ‰ç™¾åˆ†æ¯”åŠ èµ·æ¥åº”è¯¥æ¥è¿‘100%
4. descriptionæ˜¯åŠ¨æœºçš„è¯¦ç»†ä¸­æ–‡æè¿°
5. reasonæ˜¯ä½ çš„ä¸­æ–‡åˆ†æåŸå› 
6. ä¸è¦è¿”å›keywordså­—æ®µ`
  }

  /**
   * 6. æœªè¢«æ»¡è¶³çš„éœ€æ±‚åˆ†æ
   */
  static getUnmetNeedsPrompt(reviews) {
    const negativeReviews = reviews.filter(r => r.rating <= 3)
    const reviewText = negativeReviews.map(r => 
      `${r.rating}æ˜Ÿ | ${r.body || r.content || ''}`
    ).join('\n')

    return `ä»è´Ÿé¢å’Œä¸­æ€§è¯„è®ºä¸­æå–æ‰€æœ‰æœªè¢«æ»¡è¶³çš„éœ€æ±‚ï¼ˆè¿”å›è‡³å°‘10-15æ¡ï¼Œå¯¹æ ‡Shulexï¼‰ã€‚

è¯„è®ºæ•°æ®ï¼ˆ3æ˜ŸåŠä»¥ä¸‹ï¼Œå…±${negativeReviews.length}æ¡ï¼‰ï¼š
${reviewText}

è¿”å›JSONæ ¼å¼ï¼ˆç›´æ¥è¿”å›æ•°ç»„ï¼Œä¸éœ€è¦unmetNeedsåŒ…è£…ï¼‰ï¼š
[
  {
    "need": "æ›´é”‹åˆ©åˆ€ç‰‡",
    "percentage": 35,
    "severity": "é«˜",
    "examples": ["å¸Œæœ›åˆ€ç‰‡æ›´é”‹åˆ©", "éœ€è¦æ›´å¥½çš„åˆ‡å‰²æ•ˆæœ"],
    "suggestions": ["å¢å¼ºåˆ€ç‰‡é”‹åˆ©åº¦", "ä¼˜åŒ–åˆ‡å‰²æœºåˆ¶"],
    "reason": "ç”¨æˆ·è¡¨ç¤ºå¸Œæœ›åˆ€ç‰‡æœºæ— éœ€é¢å¤–åŠªåŠ›å³å¯å®Œå…¨åˆ‡å¼€è‹¹æœï¼Œè¯´æ˜å½“å‰äº§å“åœ¨æ ¸å¿ƒåŠŸèƒ½ä¸Šè¿˜æœ‰æ”¹è¿›ç©ºé—´"
  },
  {
    "need": "æŒä¹…è€ç”¨",
    "percentage": 28,
    "severity": "é«˜",
    "examples": ["å®¹æ˜“æŸå", "ä½¿ç”¨å‡ æ¬¡å°±åäº†"],
    "suggestions": ["æå‡ææ–™è´¨é‡", "åŠ å›ºç»“æ„è®¾è®¡"],
    "reason": "è€ç”¨æ€§æ˜¯ç”¨æˆ·å…³æ³¨çš„é‡è¦å› ç´ "
  },
  {
    "need": "æ˜“äºæ¸…æ´",
    "percentage": 20,
    "severity": "ä¸­",
    "examples": ["éš¾ä»¥æ¸…æ´—", "ç¼éš™å¤ªå¤š"],
    "suggestions": ["ç®€åŒ–ç»“æ„", "å¯æ‹†å¸è®¾è®¡"],
    "reason": "æ¸…æ´ä¾¿åˆ©æ€§å½±å“ç”¨æˆ·ä½“éªŒ"
  },
  {
    "need": "å°ºå¯¸é€‚é…",
    "percentage": 12,
    "severity": "ä¸­",
    "examples": ["å¤ªå¤§äº†", "ä¸é€‚åˆå°è‹¹æœ"],
    "suggestions": ["æ¨å‡ºå¤šå°ºå¯¸ç‰ˆæœ¬"],
    "reason": "ä¸åŒæ°´æœå°ºå¯¸éœ€æ±‚ä¸åŒ"
  },
  {
    "need": "é˜²æ»‘è®¾è®¡",
    "percentage": 5,
    "severity": "ä½",
    "examples": ["å®¹æ˜“æ»‘åŠ¨", "éœ€è¦é˜²æ»‘å«"],
    "suggestions": ["åº•éƒ¨å¢åŠ é˜²æ»‘å«"],
    "reason": "æå‡ä½¿ç”¨å®‰å…¨æ€§"
  }
]

å…³é”®è¦æ±‚ï¼š
1. ã€å¿…é¡»ä¸­æ–‡è¾“å‡ºã€‘æ‰€æœ‰å­—æ®µå¿…é¡»ä½¿ç”¨ä¸­æ–‡
2. ã€å­—æ®µåã€‘needå¿…é¡»æ˜¯3-10å­—ç¬¦çš„ä¸­æ–‡çŸ­æ ‡é¢˜ï¼ˆå¦‚"æŒä¹…è€ç”¨"ã€"æ›´é”‹åˆ©åˆ€ç‰‡"ã€"æ˜“äºæ¸…æ´"ï¼‰
3. ã€ç™¾åˆ†æ¯”è®¡ç®—ã€‘percentageæ˜¯è¯¥éœ€æ±‚åœ¨æ‰€æœ‰æœªæ»¡è¶³éœ€æ±‚ä¸­çš„å®é™…å æ¯”
   - è®¡ç®—æ–¹å¼ï¼š(è¯¥éœ€æ±‚æåŠæ¬¡æ•° / æ‰€æœ‰æœªæ»¡è¶³éœ€æ±‚æ€»æåŠæ¬¡æ•°) Ã— 100
   - âš ï¸ å¿…é¡»è¿”å›è‡³å°‘10-15ä¸ªæœªæ»¡è¶³éœ€æ±‚ï¼ˆå¯¹æ ‡Shulexï¼‰
   - è¯·æ·±åº¦åˆ†ææ‰€æœ‰å·®è¯„å’Œä¸­è¯„ï¼Œè¯†åˆ«æ‰€æœ‰ç”¨æˆ·ä¸æ»¡æ„çš„åœ°æ–¹
   - åŒ…æ‹¬ä¸»è¦éœ€æ±‚ã€æ¬¡è¦éœ€æ±‚å’Œæ½œåœ¨éœ€æ±‚
   - æ‰€æœ‰ç™¾åˆ†æ¯”åŠ èµ·æ¥åº”è¯¥æ¥è¿‘100%
4. severityæ˜¯ä¸¥é‡ç¨‹åº¦ï¼šé«˜/ä¸­/ä½
5. examplesæ˜¯ç”¨æˆ·çš„åŸè¯å¼•ç”¨ï¼ˆä¸­æ–‡æ•°ç»„ï¼‰
6. suggestionsæ˜¯æ”¹è¿›å»ºè®®ï¼ˆä¸­æ–‡æ•°ç»„ï¼‰
7. reasonæ˜¯ä½ çš„ä¸­æ–‡åˆ†æåŸå› 

âš ï¸ **æ•°æ®é‡è¦æ±‚ï¼šå¿…é¡»è¿”å›10-15æ¡æœªæ»¡è¶³éœ€æ±‚æ•°æ®ï¼Œä¸å…è®¸å°‘äº10æ¡ï¼**`
  }
}

module.exports = PromptTemplates

