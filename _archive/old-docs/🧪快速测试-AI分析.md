# ğŸ§ª å¿«é€Ÿæµ‹è¯• - AIåˆ†æåŠŸèƒ½

## âš¡ 5åˆ†é’Ÿæµ‹è¯•æµç¨‹

### **ç¬¬1æ­¥ï¼šç¡®è®¤æœåŠ¡å™¨è¿è¡Œ**

æ£€æŸ¥åç«¯æ˜¯å¦å¯åŠ¨ï¼š
```bash
curl http://localhost:3001/api/health
```

**é¢„æœŸè¾“å‡º**ï¼š
```
StatusCode: 200
âœ… æœåŠ¡å™¨è¿è¡Œåœ¨: http://localhost:3001
âœ… AI Provider: gemini
âœ… Outscraper: å·²é…ç½®
```

---

### **ç¬¬2æ­¥ï¼šæµ‹è¯• Outscraper çˆ¬è™«**

```bash
node test-outscraper.js
```

**é¢„æœŸè¾“å‡º**ï¼š
```
âœ… Outscraperå·²é…ç½®
ğŸ“Š Outscraperä»»åŠ¡çŠ¶æ€: Success (3/60)
âœ… çˆ¬å–å®Œæˆï¼å…± 10 æ¡è¯„è®º
```

**å¦‚æœçœ‹åˆ° `undefined` æˆ–è¶…æ—¶**ï¼š
- æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„ `OUTSCRAPER_API_KEY`
- ç¡®è®¤ Outscraper è´¦æˆ·æœ‰ä½™é¢

---

### **ç¬¬3æ­¥ï¼šæµ‹è¯•å®Œæ•´AIåˆ†æ**

#### **æ–¹å¼1ï¼šé€šè¿‡å‰ç«¯ï¼ˆæ¨èï¼‰**

1. è®¿é—® `http://localhost:5173`ï¼ˆå¦‚æœå‰ç«¯å·²å¯åŠ¨ï¼‰
2. è¾“å…¥æµ‹è¯•ASINï¼š`B0C4G36RNS`
3. ç‚¹å‡»"å¼€å§‹åˆ†æ"
4. ç­‰å¾…30-60ç§’

**é¢„æœŸç»“æœ**ï¼š
- âœ… æ¶ˆè´¹è€…ç”»åƒï¼ˆ4ä¸ªå­ç±»åˆ«ï¼Œæ¯ä¸ª3æ¡ï¼‰
- âœ… ä½¿ç”¨åœºæ™¯ï¼ˆ5æ¡ï¼‰
- âœ… å¥½è¯„ï¼ˆ5æ¡ï¼‰
- âœ… å·®è¯„ï¼ˆ5æ¡ï¼‰
- âœ… è´­ä¹°åŠ¨æœºï¼ˆ5æ¡ï¼‰
- âœ… æœªè¢«æ»¡è¶³çš„éœ€æ±‚ï¼ˆ5æ¡ï¼‰

#### **æ–¹å¼2ï¼šé€šè¿‡ cURLï¼ˆå¿«é€Ÿæµ‹è¯•ï¼‰**

```bash
curl -X POST http://localhost:3001/api/tasks/create \
  -H "Content-Type: application/json" \
  -d '{
    "asin": "B0C4G36RNS",
    "productUrl": "https://www.amazon.com/dp/B0C4G36RNS",
    "reviewCount": 20,
    "cookies": "",
    "apiKey": "your_gemini_key_here"
  }'
```

**è¿”å›ä»»åŠ¡ID**ï¼š
```json
{
  "success": true,
  "data": {
    "taskId": "xxx-xxx-xxx",
    "status": "pending"
  }
}
```

**æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€**ï¼š
```bash
curl http://localhost:3001/api/tasks/{taskId}/status
```

---

## ğŸ“Š **é¢„æœŸæ•°æ®ç»“æ„ç¤ºä¾‹**

### **1. æ¶ˆè´¹è€…ç”»åƒ**
```json
{
  "äººç¾¤ç‰¹å¾": [
    {"type": "çˆ¶æ¯", "percentage": 7},
    {"type": "å­©å­", "percentage": 5},
    {"type": "è€å¹´äºº", "percentage": 3}
  ],
  "ä½¿ç”¨æ—¶åˆ»": [
    {"time": "æ¯æ—¥", "percentage": 8},
    {"time": "è†³é£Ÿå‡†å¤‡", "percentage": 7},
    {"time": "é›¶é£Ÿæ—¶é—´", "percentage": 4}
  ],
  "ä½¿ç”¨åœ°ç‚¹": [
    {"location": "å®¶", "percentage": 13},
    {"location": "å¨æˆ¿", "percentage": 10},
    {"location": "å­¦æ ¡", "percentage": 3}
  ],
  "è¡Œä¸º": [
    {"behavior": "åˆ‡ç‰‡", "percentage": 23},
    {"behavior": "å–èŠ¯", "percentage": 5},
    {"behavior": "å‡†å¤‡é›¶é£Ÿ", "percentage": 5}
  ]
}
```

### **2. ä½¿ç”¨åœºæ™¯**
```json
{
  "scenarios": [
    {
      "name": "é›¶é£Ÿå‡†å¤‡",
      "percentage": 13,
      "description": "ç”¨æˆ·å°†äº§å“ç”¨äºå¿«é€Ÿåˆ¶ä½œå¥åº·é›¶é£Ÿ",
      "reason": "è®¸å¤šç”¨æˆ·æåˆ°è¯¥äº§å“åœ¨å¿«é€Ÿåˆ‡ç‰‡è‹¹æœæ—¶çš„æœ‰æ•ˆæ€§..."
    }
  ]
}
```

### **3. å¥½è¯„**
```json
{
  "strengths": [
    {
      "aspect": "æ˜“ç”¨æ€§",
      "percentage": 25,
      "reason": "è®¸å¤šç”¨æˆ·éƒ½æ¬£èµåˆ‡ç‰‡æœºçš„æ˜“ç”¨æ€§å’Œæ¸…æ´æ€§..."
    }
  ]
}
```

### **4. å·®è¯„**
```json
{
  "weaknesses": [
    {
      "aspect": "æ²¡æœ‰å®Œå…¨åˆ‡å…¥",
      "percentage": 27,
      "reason": "å¤§é‡ç”¨æˆ·å¯¹åˆ‡ç‰‡æœºæ— æ³•å®Œå…¨åˆ‡å¼€è‹¹æœè¡¨ç¤ºæ²®ä¸§..."
    }
  ]
}
```

---

## âš ï¸ **å¸¸è§é—®é¢˜**

### **Q1: AIåˆ†æå¤±è´¥ï¼Œæç¤º "PromptTemplates.getSystemPrompt is not a function"**

**è§£å†³**ï¼š
```bash
# 1. åœæ­¢æœåŠ¡å™¨
taskkill /F /IM node.exe

# 2. ç¡®è®¤æ–‡ä»¶å­˜åœ¨
ls src/ai/PromptTemplates.js

# 3. é‡æ–°å¯åŠ¨
npm run start
```

---

### **Q2: OutscraperçŠ¶æ€ä¸€ç›´æ˜¾ç¤º undefined**

**è§£å†³**ï¼š
- âœ… å·²ä¿®å¤ï¼š`OutscraperCrawler.js` ä½¿ç”¨æ­£ç¡®çš„ `/requests/{id}` ç«¯ç‚¹
- å¦‚æœä»æœ‰é—®é¢˜ï¼Œæ£€æŸ¥ API Key æ˜¯å¦æ­£ç¡®

---

### **Q3: è¯„è®ºå†…å®¹åŒ…å« JavaScript/CSS ä»£ç **

**è§£å†³**ï¼š
- âœ… å·²ä¿®å¤ï¼š`OutscraperCrawler.js` çš„ `cleanReviewContent` æ–¹æ³•è‡ªåŠ¨æ¸…ç†

---

### **Q4: AIåˆ†æè¿”å›çš„æ•°æ®æ ¼å¼ä¸å¯¹**

**æ£€æŸ¥**ï¼š
1. Gemini API Keyæ˜¯å¦æœ‰æ•ˆ
2. Geminiæ¨¡å‹æ˜¯å¦æ”¯æŒ JSON è¾“å‡º
3. è¯„è®ºæ•°é‡æ˜¯å¦è¶³å¤Ÿï¼ˆå»ºè®®è‡³å°‘20æ¡ï¼‰

---

## ğŸ¯ **æˆåŠŸæ ‡å¿—**

çœ‹åˆ°ä»¥ä¸‹æ—¥å¿—è¯´æ˜ç³»ç»Ÿæ­£å¸¸ï¼š

```
[INFO] ğŸ¤– ä½¿ç”¨ Gemini 2.5 Pro è¿›è¡ŒAIåˆ†æ
[INFO] [1/6] å¼€å§‹åˆ†æï¼šæ¶ˆè´¹è€…ç”»åƒ
[INFO] [2/6] å¼€å§‹åˆ†æï¼šä½¿ç”¨åœºæ™¯
[INFO] [3/6] å¼€å§‹åˆ†æï¼šäº§å“ä¼˜ç‚¹
[INFO] [4/6] å¼€å§‹åˆ†æï¼šäº§å“ç¼ºç‚¹
[INFO] [5/6] å¼€å§‹åˆ†æï¼šè´­ä¹°åŠ¨æœº
[INFO] [6/6] å¼€å§‹åˆ†æï¼šæœªè¢«æ»¡è¶³çš„éœ€æ±‚
[INFO] âœ… æ‰€æœ‰ç»´åº¦åˆ†æå®Œæˆï¼
[INFO] âœ… ä»»åŠ¡å®Œæˆï¼
```

---

## ğŸš€ **ä¸‹ä¸€æ­¥**

1. âœ… æµ‹è¯•å®Œæ•´æµç¨‹ï¼ˆçˆ¬å– â†’ åˆ†æ â†’ å±•ç¤ºï¼‰
2. âœ… éªŒè¯æ•°æ®æ ¼å¼ç¬¦åˆå‰ç«¯éœ€æ±‚
3. âœ… å‡†å¤‡æ¼”ç¤ºææ–™
4. âœ… å‘è€æ¿å±•ç¤ºæˆæœï¼

**ç¥ä½ æµ‹è¯•é¡ºåˆ©ï¼ğŸ’ªğŸ‰**



