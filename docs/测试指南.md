# 🎯 完整测试指南

## 📋 快速开始（3个步骤）

### 步骤 1：清理并启动服务 ⚡

**双击运行**：`清除并重启.bat`

然后选择：
- 选项 **1**：只启动后端（推荐）
- 选项 **3**：同时启动后端+前端

✅ 会自动：
1. 关闭所有占用端口的进程
2. 启动你选择的服务
3. 打开独立窗口显示日志

---

### 步骤 2：等待 RapidAPI 恢复 ⏰

**当前状态**：RapidAPI 正在恢复中（503错误）

**监控脚本已在运行**，会每30秒自动检查：
```
监控脚本终端会显示：
[11:37:41] 🔍 检查第 1 次...
   ⏳ 还是 503，继续等待...
```

**一旦恢复会显示**：
```
🎉 成功！Product Reviews 端点已恢复！
```

---

### 步骤 3：进行测试 🧪

#### 方式A：使用 Chrome 扩展（推荐）

1. **安装扩展**（如果未安装）：
   - 打开 Chrome: `chrome://extensions/`
   - 启用"开发者模式"
   - 点击"加载已解压的扩展程序"
   - 选择项目的 `chrome-extension` 文件夹

2. **打开 Amazon 产品页**：
   ```
   https://www.amazon.com/dp/B0D9JBGWCL
   或任意其他产品
   ```

3. **点击分析按钮**
   - 页面右侧会出现"分析评论"按钮
   - 点击开始完整分析

4. **查看结果**：
   - 爬取进度
   - AI 分析进度
   - 7个维度分析结果
   - 放大弹窗查看详细数据

---

#### 方式B：使用 Web 界面

1. **打开浏览器访问**：
   ```
   http://localhost:3002
   或
   http://localhost:3003
   ```

2. **输入 ASIN 或产品链接**

3. **查看可视化报告**

---

## 🛠️ 管理脚本说明

### 1. `清除并重启.bat` ✨
**用途**：一键清理端口并启动服务

**使用场景**：
- 端口被占用无法启动
- 想要完全重启服务
- 切换启动模式（只后端 → 前后端都启动）

**选项说明**：
- **选项1**：只启动后端API（适合使用 Chrome 扩展测试）
- **选项2**：只启动前端Web（适合查看可视化报告）
- **选项3**：同时启动（完整体验）
- **选项4**：只清理，不启动

---

### 2. `仅清除端口.bat` 🧹
**用途**：只清理端口占用，不启动任何服务

**使用场景**：
- 想手动启动服务
- 只想关闭服务不重启
- 调试时需要完全控制

**使用后可以**：
- 手动运行 `npm start` 启动后端
- 手动运行 `cd web && npm run dev` 启动前端

---

## 📊 系统状态检查

### 后端API是否运行？
打开浏览器访问：`http://localhost:3001/api/health`

**成功响应**：
```json
{
  "status": "ok",
  "message": "Amazon评论分析系统运行正常"
}
```

---

### 前端Web是否运行？
打开浏览器访问：`http://localhost:3002` 或 `http://localhost:3003`

看到登录/主页 = 运行正常

---

### RapidAPI 是否恢复？
运行：`node diagnose-rapidapi.js`

**恢复标志**：
```
✅ 成功获取评论！
   状态码: 200
```

---

## 🎯 完整测试流程

### 推荐测试步骤：

1. ✅ **清理并启动后端**
   ```
   双击：清除并重启.bat → 选项1
   ```

2. ⏰ **等待 RapidAPI 恢复**
   ```
   监控脚本会自动通知（约5-10分钟）
   ```

3. 🔌 **安装 Chrome 扩展**（如果未安装）

4. 🧪 **完整测试**：
   - 打开 Amazon 产品页
   - 点击分析按钮
   - 验证：
     - ✅ 评论爬取成功
     - ✅ AI 分析成功（7个维度）
     - ✅ 放大弹窗正常

5. 📊 **可选：测试 Web 界面**
   ```
   双击：清除并重启.bat → 选项3
   访问：http://localhost:3002
   ```

---

## ❓ 常见问题

### Q1: 端口被占用怎么办？
**A**: 运行 `清除并重启.bat` 会自动清理

---

### Q2: RapidAPI 一直 503 怎么办？
**A**: 昨天还能用，说明是临时问题。继续等待监控脚本，通常5-10分钟会恢复。

---

### Q3: 监控脚本在哪里看？
**A**: 查看终端输出，会显示：
```
[时间] 🔍 检查第 N 次...
```

---

### Q4: 如何停止所有服务？
**A**: 两种方式：
1. 在各个服务窗口按 `Ctrl+C`
2. 运行 `仅清除端口.bat`

---

## 🚀 给客户演示的检查清单

演示前确认：
- [ ] 后端API运行正常（访问 /api/health）
- [ ] RapidAPI 已恢复（监控脚本显示成功）
- [ ] Chrome 扩展已安装并启用
- [ ] 准备好演示的 Amazon 产品链接
- [ ] 测试过完整流程一次

---

## 📞 需要帮助？

如果遇到问题：
1. 查看终端日志
2. 检查 `系统状态报告.md`
3. 运行相应的诊断脚本：
   - `diagnose-rapidapi.js` - RapidAPI 诊断
   - `test-real-mode.js` - 真实模式测试
   - `test-ai-only.js` - AI 分析测试

---

**祝测试顺利！** 🎉






