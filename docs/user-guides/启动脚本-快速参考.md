# 🚀 启动脚本 - 快速参考

## 📋 所有启动脚本总览

| 脚本名称 | 用途 | 启动内容 | 推荐场景 |
|---------|------|---------|---------|
| **客户演示-一键启动.bat** | 🎯 客户演示 | 后端 + Web前端 | **给客户演示**，自动打开报告页面 |
| **START.bat** | 🔧 通用启动 | 可选模式 | 日常开发/测试，有菜单选择 |
| **START-BACKEND.bat** | 📡 仅后端 | 后端API | 只用Chrome扩展，不需要Web报告 |
| **RESTART-BACKEND.bat** | 🔄 重启后端 | 后端API | 修改代码后重启服务 |
| **客户演示-停止服务.bat** | 🛑 停止服务 | 停止所有 | 演示结束后清理 |
| **STOP-ALL.bat** | 🛑 停止服务 | 停止所有 | 通用停止脚本 |

---

## 🎯 客户演示专用（推荐）

### 启动

```bash
客户演示-一键启动.bat
```

**功能**:
- ✅ 自动启动后端API (端口3001)
- ✅ 自动启动Web详细报告 (端口3002)
- ✅ 自动打开浏览器访问报告首页
- ✅ 无需选择，一键启动

**适用场景**:
- 给客户演示完整系统
- 展示Web端详细报告
- 需要同时使用Chrome扩展和Web报告

**启动后会打开**:
- 【后端API】窗口（蓝色）
- 【Web报告】窗口（黄色）
- 浏览器自动访问 http://localhost:3002

---

### 停止

```bash
客户演示-停止服务.bat
```

**功能**:
- 停止所有Node.js服务
- 清理后台进程

---

## 🔧 通用启动脚本

### START.bat

```bash
START.bat
```

**功能**: 启动菜单，可选择启动模式

**模式选项**:
1. **标准模式** - 仅启动后端 (配合Chrome扩展使用)
2. **完整模式** - 启动后端 + Web前端 (开发/演示)
3. **仅前端** - 只启动Web界面 (需要后端已运行)
4. **退出**

**适用场景**:
- 日常开发测试
- 根据需要选择启动模式
- 灵活性高

---

## 📡 仅后端模式

### START-BACKEND.bat

```bash
START-BACKEND.bat
```

**功能**:
- ✅ 仅启动后端API服务
- ✅ 端口：3001
- ✅ 健康检查：http://localhost:3001/api/health

**适用场景**:
- 只使用Chrome扩展
- 不需要Web报告页面
- 节省资源

---

## 🔄 重启后端

### RESTART-BACKEND.bat

```bash
RESTART-BACKEND.bat
```

**功能**:
- 强制停止所有Node.js进程
- 等待3秒
- 启动后端服务

**适用场景**:
- 修改后端代码后重启
- 后端出现异常需要重启
- 确保使用最新代码

---

## 🛑 停止服务

### 方式1: 客户演示专用

```bash
客户演示-停止服务.bat
```

**特点**: 有确认提示，更安全

---

### 方式2: 通用停止

```bash
STOP-ALL.bat
```

**特点**: 直接停止，无需确认

---

## 🌐 服务地址总览

| 服务 | 地址 | 说明 |
|-----|------|------|
| 后端API | http://localhost:3001 | Chrome扩展连接此地址 |
| 后端健康检查 | http://localhost:3001/api/health | 检查后端是否正常 |
| Web报告首页 | http://localhost:3002 | 详细报告和任务管理 |
| 创建分析 | http://localhost:3002/#/create | 手动创建分析任务 |
| 查看报告 | http://localhost:3002/#/report/{taskId} | 查看具体任务报告 |

---

## 💡 使用建议

### 场景1: 给客户演示

**推荐**: `客户演示-一键启动.bat`

**流程**:
1. 运行脚本，等待自动打开浏览器
2. 保持【后端API】和【Web报告】窗口打开
3. 用Chrome扩展演示快速分析
4. 用Web报告展示详细数据
5. 演示结束后运行`客户演示-停止服务.bat`

---

### 场景2: 日常开发测试

**推荐**: `START.bat` 选择标准模式

**流程**:
1. 运行脚本
2. 选择"[1] 标准模式"
3. 只启动后端，节省资源
4. 用Chrome扩展测试功能

---

### 场景3: 开发Web前端

**推荐**: `START.bat` 选择完整模式

**流程**:
1. 运行脚本
2. 选择"[2] 完整模式"
3. 同时启动后端和前端
4. 实时查看Web页面效果

---

### 场景4: 修改后端代码后

**推荐**: `RESTART-BACKEND.bat`

**流程**:
1. 修改代码
2. 运行`RESTART-BACKEND.bat`
3. 等待重启完成
4. 继续测试

---

## ⚠️ 重要提示

### 1. 保持窗口打开

启动后的【后端API】和【Web报告】窗口**必须保持打开**，关闭窗口会停止对应服务。

### 2. 端口占用

如果出现"端口已被占用"错误：
1. 运行停止脚本
2. 等待5秒
3. 重新启动

### 3. 首次启动

首次运行可能需要：
- 安装后端依赖（自动执行）
- 安装前端依赖（自动执行）
- 等待时间较长（5-10分钟）

### 4. Chrome扩展

无论使用哪个启动脚本，Chrome扩展都需要**后端API服务**（端口3001）运行。

---

## 🔍 故障排查

### 问题1: 脚本运行后没有反应

**解决**:
- 检查是否安装Node.js
- 右键"以管理员身份运行"
- 查看是否有错误提示

---

### 问题2: 浏览器没有自动打开

**解决**:
- 手动访问：http://localhost:3002
- 检查浏览器弹窗拦截设置

---

### 问题3: 服务启动失败

**解决**:
1. 运行停止脚本清理进程
2. 检查端口是否被占用（3001、3002）
3. 查看【后端API】或【Web报告】窗口的错误信息

---

### 问题4: 修改代码不生效

**解决**:
1. 运行`RESTART-BACKEND.bat`强制重启
2. 确保修改了正确的文件
3. 清除浏览器缓存（Ctrl+F5）

---

## 📁 相关文档

- **客户演示版-使用指南.md** - 完整的客户演示流程
- **README.md** - 项目总览
- **docs/user-guides/** - 详细使用指南

---

## 🎉 快速开始

**最简单的方式（推荐新手）**:

```
1. 双击: 客户演示-一键启动.bat
2. 等待浏览器自动打开
3. 开始使用！
```

---

**Git提交**: `5cf3bf4`

**更新日期**: 2025-11-03

